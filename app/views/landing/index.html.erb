<% content_for :title, "AI Talk Coach - Master Your Communication Skills with AI-Powered Feedback" %>

<div class="landing-page" data-action="analytics#handleLandingPageView">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-container">
      <!-- Hero Content - Always First -->
      <div class="hero-content">
        <h1 class="hero-title">
          Improve your communication, one day at a time!
        </h1>

        <p class="hero-description">
          Speaking isn't a gift â€” it's a skill. And like any skill, it grows with consistent practice. Not once in a while, but every day â€” a few focused seconds at a time.
        </p>

        <div class="hero-actions">
          <% if logged_in? %>
            <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary" do %>
              <%= icon_svg(:mic, css_class: 'icon-inline') %> Go to App
            <% end %>
            <%= link_to app_subdomain_url(progress_path), class: "btn btn-secondary" do %>
              <%= icon_svg(:trending_up, css_class: 'icon-inline') %> View Progress
            <% end %>
          <% else %>
            <%= link_to practice_path(trial: true),
                  class: "btn btn-primary",
                  data: {
                    action: "click->analytics#handleTrialClick",
                    source: "hero_section"
                  } do %>
              Test 30-second demo
            <% end %>
            <%= link_to app_subdomain_url(signup_path),
                  class: "btn btn-secondary",
                  data: {
                    action: "click->analytics#handleSignupClick",
                    source: "hero_section"
                  } do %>
              Sign up for free
            <% end %>
          <% end %>
        </div>

        <!-- App Store Download Section -->
        <div class="hero-app-download">
          <p class="app-download-label">Also available on:</p>
          <%= link_to "https://apps.apple.com/us/app/ai-talk-coach/id6754871317",
                target: "_blank",
                rel: "noopener noreferrer",
                class: "app-store-badge-link",
                data: {
                  action: "click->analytics#handleAppStoreClick",
                  source: "hero_section"
                } do %>
            <%= image_tag "app-store-badge-official.svg", alt: "Download on the App Store", class: "app-store-badge" %>
          <% end %>
        </div>

        <p class="hero-features">Practice takes seconds â€¢ See progress instantly â€¢ Your data, your control</p>
      </div>

      <!-- Mobile-Only: Small Phone Mockup -->
      <div class="hero-demo-mobile">
        <div class="iphone-mockup-mobile-only">
          <div class="iphone-frame-mobile">
            <div class="iphone-dynamic-island-mobile"></div>
            <div class="iphone-screen-mobile">
              <%= image_tag "mobile-app-screenshot.png", alt: "AI Talk Coach Mobile App", class: "mobile-screenshot-mobile" %>
            </div>
          </div>
        </div>
      </div>

      <!-- Desktop-Only: Larger Overlapping Mockups -->
      <div class="hero-demo-desktop">
        <div class="device-mockups-desktop">
          <!-- Desktop Browser Mockup -->
          <div class="desktop-mockup-desktop">
            <div class="browser-frame-desktop">
              <div class="browser-chrome-desktop">
                <div class="browser-dots-desktop">
                  <span class="dot-desktop dot-red"></span>
                  <span class="dot-desktop dot-yellow"></span>
                  <span class="dot-desktop dot-green"></span>
                </div>
              </div>
              <div class="browser-content-desktop">
                <%= image_tag "desktop-app-screenshot.png", alt: "AI Talk Coach Desktop Dashboard", class: "desktop-screenshot-desktop" %>
              </div>
            </div>
          </div>

          <!-- iPhone Mockup (Overlapping) -->
          <div class="iphone-mockup-desktop">
            <div class="iphone-frame-desktop">
              <div class="iphone-dynamic-island-desktop"></div>
              <div class="iphone-screen-desktop">
                <%= image_tag "mobile-app-screenshot.png", alt: "AI Talk Coach Mobile App", class: "mobile-screenshot-desktop" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="rule-grad mx-auto" style="max-width: 1200px;"></div>
  </section>

  <!-- How AI Talk Coach Works -->
  <section id="how-it-works" class="how-it-works-compact">
    <div class="section-container">
      <h2 class="section-title">How AI Talk Coach Works</h2>

      <div class="steps-grid-compact">
        <!-- Step 1: Record & Analyze -->
        <div class="step-compact">
          <div class="step-icon-circle">
            <%= icon_svg(:mic, css_class: 'icon-md') %>
          </div>
          <h3>Record & Analyze</h3>
          <p>Record 30-180 second sessions. Get AI analysis instantly.</p>
          <div class="phone-mockup-small">
            <div class="phone-screen-small">
              <%= image_tag "record-analyze.png", alt: "Record & Analyze", class: "mockup-screenshot" %>
            </div>
          </div>
        </div>

        <!-- Step 2: See Metrics -->
        <div class="step-compact">
          <div class="step-icon-circle">
            <%= icon_svg(:chart, css_class: 'icon-md') %>
          </div>
          <h3>See Detailed Metrics</h3>
          <p>Track 7 key metrics: clarity, fillers, pace, fluency, engagement.</p>
          <div class="phone-mockup-small">
            <div class="phone-screen-small">
              <%= image_tag "detailed-metrics.png", alt: "See Detailed Metrics", class: "mockup-screenshot" %>
            </div>
          </div>
        </div>

        <!-- Step 3: AI Coaching -->
        <div class="step-compact">
          <div class="step-icon-circle">
            <%= icon_svg(:target, css_class: 'icon-md') %>
          </div>
          <h3>Get AI Coaching</h3>
          <p>Receive a focused recommendation based on your last 5 sessions.</p>
          <div class="phone-mockup-small">
            <div class="phone-screen-small">
              <%= image_tag "ai-coaching.png", alt: "Get AI Coaching", class: "mockup-screenshot" %>
            </div>
          </div>
        </div>

        <!-- Step 4: Track Progress -->
        <div class="step-compact">
          <div class="step-icon-circle">
            <%= icon_svg(:trending_up, css_class: 'icon-md') %>
          </div>
          <h3>Track Progress</h3>
          <p>Watch improvement over time with charts, streaks, and achievements.</p>
          <div class="phone-mockup-small">
            <div class="phone-screen-small">
              <%= image_tag "track-progress.png", alt: "Track Progress", class: "mockup-screenshot" %>
            </div>
          </div>
        </div>

        <!-- Step 5: Choose Prompts -->
        <div class="step-compact">
          <div class="step-icon-circle">
            <%= icon_svg(:clipboard, css_class: 'icon-md') %>
          </div>
          <h3>Choose Prompts</h3>
          <p>Select from 8 curated prompts or speak freely on any topic.</p>
          <div class="phone-mockup-small">
            <div class="phone-screen-small">
              <%= image_tag "choose-prompts.png", alt: "Choose Prompts", class: "mockup-screenshot" %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- What Makes AI Talk Coach Different Section -->
  <section class="different-section">
    <div class="section-container">
      <h2 class="section-title">What Makes AI Talk Coach Different</h2>

      <div class="difference-grid">
        <div class="difference-card">
          <div class="diff-icon-svg">
            <%= icon_svg(:target, css_class: 'icon-feature') %>
          </div>
          <h3>Personalized Pace Targets</h3>
          <p>Set YOUR ideal speaking speed (60-240 WPM). We adapt to you, not vice versa.</p>
        </div>

        <div class="difference-card">
          <div class="diff-icon-svg">
            <%= icon_svg(:bridge, css_class: 'icon-feature') %>
          </div>
          <h3>True Multilingual Support</h3>
          <p>AI-powered filler detection in 11 languages including English, Portuguese, Spanish, French, German, Italian, Dutch, Swedish, Danish, Norwegian, and Turkish.</p>
        </div>

        <div class="difference-card">
          <div class="diff-icon-svg">
            <%= icon_svg(:clock, css_class: 'icon-feature') %>
          </div>
          <h3>Flexible Session Length</h3>
          <p>Practice in 30 to 180-second sessions. Perfect for busy schedulesâ€”improve in bite-sized increments.</p>
        </div>

        <div class="difference-card">
          <div class="diff-icon-svg">
            <%= icon_svg(:lock, css_class: 'icon-feature') %>
          </div>
          <h3>Privacy First</h3>
          <p>Your data, your control. Delete sessions anytime. No account required to try.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Beta Progress Section (Enhanced) -->
  <section class="beta-progress-section">
    <div class="section-container">
      <div class="beta-card-enhanced">
        <div class="beta-header">
          <div class="beta-icon-circle">
            <%= icon_svg(:rocket, css_class: 'icon-lg') %>
          </div>
          <h3>Early Beta: Help Us Reach 1K Minutes</h3>
        </div>

        <p class="beta-description">
          Every practice session helps us build better features.
        </p>

        <div class="beta-stats-grid">
          <div class="stat-item">
            <div class="stat-value"><%= @total_practice_minutes %>+</div>
            <div class="stat-label">Minutes Practiced</div>
          </div>

          <div class="stat-item">
            <div class="stat-value"><%= @active_users %>+</div>
            <div class="stat-label">Users</div>
          </div>
        </div>

        <div class="beta-progress-bar">
          <div class="progress-track">
            <div class="progress-fill-animated"
                 style="width: <%= [(@total_practice_minutes.to_i / 1000.0 * 100), 100].min %>%">
            </div>
          </div>
          <div class="progress-label">
            <span><%= @total_practice_minutes %>+ minutes</span>
            <span class="target">Goal: 1,000 minutes</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Product Roadmap Section -->
  <section class="roadmap-section-v2">
    <div class="section-container">
      <h2 class="section-title">Product Roadmap</h2>
      <p class="section-subtitle">We're shipping fast. Here's what's next.</p>

      <div class="roadmap-flow">
        <!-- Card 1: Web Platform (Live) -->
        <div class="roadmap-card" data-roadmap-card="1">
          <div class="roadmap-check">âœ“</div>
          <h3>Web Platform</h3>
          <ul class="roadmap-list">
            <li>Speech analysis & AI feedback</li>
            <li>Practice library</li>
            <li>Progress tracking</li>
            <li>Filler word detection</li>
          </ul>
          <div class="roadmap-badge badge-live">Live</div>
        </div>

        <!-- Card 2: iOS App (Live) -->
        <div class="roadmap-card" data-roadmap-card="2">
          <div class="roadmap-check">âœ“</div>
          <h3>iOS App</h3>
          <ul class="roadmap-list">
            <li>Practice on-the-go</li>
            <li>Push reminders</li>
            <li>Seamless sync</li>
          </ul>
          <div class="roadmap-badge badge-live">Live</div>
        </div>

        <!-- Card 3: Video Analysis -->
        <div class="roadmap-card" data-roadmap-card="3">
          <h3>Video Analysis</h3>
          <ul class="roadmap-list">
            <li>Record with video</li>
            <li>Body language feedback</li>
            <li>Eye contact tracking</li>
          </ul>
          <div class="roadmap-badge badge-future">Future</div>
        </div>

        <!-- Card 4: AI Voice Implementation -->
        <div class="roadmap-card" data-roadmap-card="4">
          <h3>AI Voice Implementation</h3>
          <ul class="roadmap-list">
            <li>AI shows how you should speak</li>
            <li>Phrase alternatives</li>
            <li>Real-time suggestions</li>
          </ul>
          <div class="roadmap-badge badge-planned">Planned</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Metrics Section -->
  <section class="metrics-section">
    <div class="section-container">
      <h2 class="section-title">Metrics We Track</h2>
      <p class="section-subtitle">Seven key metrics powered by AI to give you actionable feedback</p>

      <div class="metrics-grid">
        <!-- Metric 1: Overall Score -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:star, css_class: 'icon-md') %>
            </div>
            <h3>Overall Score</h3>
          </div>
          <p class="metric-description">
            Your main speaking score from 0-100. Combines clarity, pace, fluency, and engagementâ€”with clarity weighted most heavily. When this score is low, check which of the four components needs the most work.
          </p>
        </div>

        <!-- Metric 2: Clarity Score -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:target, css_class: 'icon-md') %>
            </div>
            <h3>Clarity Score</h3>
          </div>
          <p class="metric-description">
            How well your message comes through to listeners. Looks at filler words, pace steadiness, pauses, articulation, and vocal variety. Lower scores mean your ideas aren't landing clearly.
          </p>
        </div>

        <!-- Metric 3: Filler Rate -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:alert, css_class: 'icon-md') %>
            </div>
            <h3>Filler Rate</h3>
          </div>
          <p class="metric-description">
            Percentage of filler words in your speechâ€”"um," "uh," "like," and equivalents across 11 languages. Under 2% is excellent. Higher rates make you sound less confident and distract listeners.
          </p>
        </div>

        <!-- Metric 4: Speaking Pace -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:activity, css_class: 'icon-md') %>
            </div>
            <h3>Speaking Pace</h3>
          </div>
          <p class="metric-description">
            Your speaking speed in words per minute. Default target is 130-150 WPM, but you can set your own ideal range. Too fast sounds rushed; too slow loses attention.
          </p>
        </div>

        <!-- Metric 5: Fluency Score -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:shuffle, css_class: 'icon-md') %>
            </div>
            <h3>Fluency Score</h3>
          </div>
          <p class="metric-description">
            Measures speech smoothness by detecting hesitations, false starts, and incomplete sentences. Lower scores indicate choppy delivery that breaks listener focus.
          </p>
        </div>

        <!-- Metric 6: Engagement Score -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:fire, css_class: 'icon-md') %>
            </div>
            <h3>Engagement Score</h3>
          </div>
          <p class="metric-description">
            Reflects your energy and expressiveness. Looks for vocal variety, emphasis, and dynamic pacing. Low scores suggest monotone delivery that doesn't hold attention.
          </p>
        </div>

        <!-- Metric 7: Pace Consistency -->
        <div class="metric-card">
          <div class="metric-header">
            <div class="metric-icon">
              <%= icon_svg(:trending_up, css_class: 'icon-md') %>
            </div>
            <h3>Pace Consistency</h3>
          </div>
          <p class="metric-description">
            How steady your speaking speed stays throughout your session. High scores mean even pacing; low scores show you're speeding up when nervous or dragging when uncertain.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="section-container">
      <h2 class="section-title">Frequently asked questions</h2>
      <div class="faq-grid">
        <div class="faq-item">
          <h3>What platforms are supported?</h3>
          <p>AI Talk Coach works in any modern web browser on desktop, tablet, or mobile. Plus, we have an iOS app available on the App Store.</p>
        </div>

        <div class="faq-item">
          <h3>How accurate is the AI feedback?</h3>
          <p>Our AI combines advanced speech recognition with linguistic analysis to provide precise feedback on pace, clarity, and speaking patterns. It's trained on thousands of professional presentations.</p>
        </div>

        <div class="faq-item">
          <h3>Is there a free version?</h3>
          <p>Yes! Start practicing immediately with our free tier. Get instant feedback on your speaking and track your progress over time.</p>
        </div>

        <div class="faq-item">
          <h3>How quickly will I see improvement?</h3>
          <p>Most users see measurable improvement in filler word usage within their first week. Significant clarity improvements typically happen within 2-3 weeks of regular practice.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Schema (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What platforms are supported?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "AI Talk Coach works in any modern web browser on desktop, tablet, or mobile. Plus, we have an iOS app available on the App Store."
        }
      },
      {
        "@type": "Question",
        "name": "How accurate is the AI feedback?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our AI combines advanced speech recognition with linguistic analysis to provide precise feedback on pace, clarity, and speaking patterns. It's trained on thousands of professional presentations."
        }
      },
      {
        "@type": "Question",
        "name": "Is there a free version?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Start practicing immediately with our free tier. Get instant feedback on your speaking and track your progress over time."
        }
      },
      {
        "@type": "Question",
        "name": "How quickly will I see improvement?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Most users see measurable improvement in filler word usage within their first week. Significant clarity improvements typically happen within 2-3 weeks of regular practice."
        }
      }
    ]
  }
  </script>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="cta-container">
      <div class="cta-content">
        <h2>Ready to transform your communication skills?</h2>
        <p>Join <%= @active_users %>+ people already improving their speaking with AI-powered coaching.</p>

        <div class="cta-actions">
          <% if logged_in? %>
            <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary btn-large" do %>
              <span class="btn-icon"><%= icon_svg(:mic, css_class: 'icon-inline') %></span>
              Continue Your Practice
            <% end %>

            <%= link_to app_subdomain_url(history_sessions_path), class: "btn btn-secondary-outline btn-large" do %>
              <span class="btn-icon"><%= icon_svg(:chart, css_class: 'icon-inline') %></span>
              View Session History
            <% end %>
          <% else %>
            <%= link_to practice_path(trial: true),
                  class: "btn btn-primary btn-large",
                  data: {
                    action: "click->analytics#handleTrialClick",
                    source: "cta_section"
                  } do %>
              <span class="btn-icon"><%= icon_svg(:lightning, css_class: 'icon-inline') %></span>
              Try 30s Demo
            <% end %>

            <%= link_to app_subdomain_url(signup_path),
                  class: "btn btn-secondary-outline btn-large",
                  data: {
                    action: "click->analytics#handleSignupClick",
                    source: "cta_section"
                  } do %>
              <span class="btn-icon"><%= icon_svg(:rocket, css_class: 'icon-inline') %></span>
              Sign Up Free
            <% end %>
          <% end %>
        </div>

        <div class="cta-note">
          <span class="note-icon"><%= icon_svg(:lock, css_class: 'icon-inline') %></span>
          <% if logged_in? %>
            Welcome back, <%= current_user.name %>! Your data is safe and secure.
          <% else %>
            Create your free account in 30 seconds. Your privacy is protected.
          <% end %>
        </div>
      </div>
    </div>
  </section>


  <!-- Footer -->
  <footer class="landing-footer">
    <div class="footer-container">
      <div class="footer-content">
        <div>Â© <%= Date.current.year %> AI Talk Coach.</div>
        <div class="footer-badge">
          <%= link_to "https://startupfa.me", target: "_blank", rel: "noopener noreferrer", class: "startup-fame-badge" do %>
            <span class="badge-text">Featured on</span>
            <span class="badge-flame">ðŸ”¥</span>
            <span class="badge-brand">Startup Fame</span>
          <% end %>
          <a href="https://fazier.com/launches/aitalkcoach.com" target="_blank">
            <img src="https://fazier.com/api/v1//public/badges/launch_badges.svg?badge_type=featured&theme=light" width="250" alt="Fazier badge" />
          </a>
          <a href="https://twelve.tools" target="_blank">
            <img src="https://twelve.tools/badge0-white.svg" alt="Featured on Twelve Tools" width="200" height="54" />
          </a>
        </div>
      </div>
      <div class="footer-links">
        <%= link_to "Privacy", privacy_policy_path, aria: { label: "Privacy Policy" } %>
        <%= link_to "Terms", terms_of_service_path, aria: { label: "Terms of Service" } %>
        <%= link_to "Contact", contact_path, aria: { label: "Contact Us" } %>
      </div>
    </div>
  </footer>

</div>

<script>
// Roadmap card scroll animations
document.addEventListener('DOMContentLoaded', function() {
  const roadmapCards = document.querySelectorAll('.roadmap-card');

  if (roadmapCards.length === 0) return;

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, {
    threshold: 0.2,
    rootMargin: '0px 0px -50px 0px'
  });

  roadmapCards.forEach(card => {
    observer.observe(card);
  });
});
</script>