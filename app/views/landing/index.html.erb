<% content_for :title, "AI Talk Coach - Master Your Communication Skills with AI-Powered Feedback" %>

<div class="landing-page" data-action="analytics#handleLandingPageView">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-container">
      <div class="hero-content">
        <div class="hero-badge">
          <span class="badge-icon"><%= icon_svg(:sparkles, css_class: 'icon-inline') %></span>
          CONSISTENCY
        </div>

        <h1 class="hero-title">
          Improve your speech, one day at a time!
        </h1>

        <p class="hero-description">
          Speaking isn't a gift â€” it's a skill. And like any skill, it grows with consistent practice. Not once in a while, but every day â€” a few focused seconds at a time.
        </p>

        <div class="hero-actions">
          <% if logged_in? %>
            <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary" do %>
              <%= icon_svg(:mic, css_class: 'icon-inline') %> Go to App
            <% end %>
            <%= link_to app_subdomain_url(progress_path), class: "btn btn-secondary" do %>
              <%= icon_svg(:trending_up, css_class: 'icon-inline') %> View Progress
            <% end %>
          <% else %>
            <%= link_to practice_path(trial: true),
                  class: "btn btn-primary",
                  data: {
                    action: "click->analytics#handleTrialClick",
                    source: "hero_section"
                  } do %>
              Test 30-second demo
            <% end %>
            <%= link_to app_subdomain_url(signup_path),
                  class: "btn btn-secondary",
                  data: {
                    action: "click->analytics#handleSignupClick",
                    source: "hero_section"
                  } do %>
              Become a beta user
            <% end %>
          <% end %>
        </div>

        <p class="hero-features">No install â€¢ Web-first â€¢ You control your recordings</p>
      </div>

      <!-- Demo Preview Card -->
      <div class="hero-demo">
        <div class="card">
          <div class="demo-header">
            <div class="demo-title">Quick Practice</div>
          </div>

          <div class="demo-prompt">
            Explain a recent decision you made at work. Keep it under 30s. Avoid "um/uh".
          </div>

          <div class="demo-controls">
            <div class="timer-presets">
              <span class="preset-btn">30s</span>
              <span class="preset-btn active">30s</span>
              <span class="preset-btn">120s</span>
            </div>
            <button class="btn btn-primary">
              <%= icon_svg(:mic, css_class: 'icon-inline') %> Start
            </button>
          </div>

          <div class="demo-metrics">
            <div class="metric-mini">
              <div class="metric-label">WPM</div>
              <div class="metric-value"><%= @sample_session[:wpm] %></div>
            </div>
            <div class="metric-mini">
              <div class="metric-label">Filler %</div>
              <div class="metric-value"><%= @sample_session[:filler_rate] %>%</div>
            </div>
            <div class="metric-mini">
              <div class="metric-label">Clarity</div>
              <div class="metric-value"><%= @sample_session[:clarity_score] %></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="rule-grad mx-auto" style="max-width: 1200px;"></div>
  </section>

  <!-- Proof Strip Section -->
  <section class="proof-strip-section">
    <div class="proof-container">
      <div class="proof-badge">
        <div class="proof-key">#1 skill</div>
        <div class="proof-text">Communication is consistently ranked a top inâ€‘demand job skill (LinkedIn, 2024).</div>
      </div>
      <div class="proof-badge">
        <div class="proof-key">44% change</div>
        <div class="proof-text">Share of core skills expected to change within 5 years (World Economic Forum, 2025).</div>
      </div>
      <div class="proof-badge">
        <div class="proof-key">Human edge</div>
        <div class="proof-text">Leaders prioritize human skillsâ€”communication, storytelling, presenceâ€”even as AI adoption grows.</div>
      </div>
    </div>
  </section>

  <!-- Why Now Section -->
  <section class="why-now-section">
    <div class="why-now-container">
      <div>
        <h3>Why communication matters more in the AI era</h3>
        <ul>
          <li>â€¢ Communication ranks among the <b>most inâ€‘demand job skills</b> on LinkedIn's 2024 report.</li>
          <li>â€¢ The World Economic Forum projects <b>44% of core skills</b> will change within five years; human skills remain decisive.</li>
          <li>â€¢ Leaders prioritize <b>storytelling, clarity, and presence</b> alongside AI fluency.</li>
        </ul>
        <p style="font-size: 0.75rem; color: #6b7280; margin-top: 0.75rem;">We'll link to source notes in the blog; phrasing here stays concise for the page.</p>
      </div>
      <blockquote class="why-now-quote">
        <div class="quote-header">
          <%= icon_svg(:message, css_class: 'icon-inline') %> Coach's take
        </div>
        <p class="quote-text">AI accelerates content. Humans win with clarity, structure, and presence. Short, consistent reps beat long, rare practices.</p>
      </blockquote>
    </div>
  </section>

  <!-- Beta Status Section -->
  <section class="beta-status-section">
    <div class="beta-container">
      <div class="beta-card">
        <div class="beta-icon">ðŸ§ª</div>
        <div class="beta-content">
          <h3>Early Beta: Help Us Reach 1K Minutes</h3>
          <p>Join our growing community of speakers improving their communication skills. Currently tested: <strong><%= @total_practice_minutes %>+ minutes</strong></p>
          <div class="beta-progress">
            <div class="progress-bar">
              <div class="progress-fill" style="width: <%= [(@total_practice_minutes.to_i / 1000.0 * 100), 100].min %>%"></div>
            </div>
            <div class="progress-text"><%= @total_practice_minutes %>+ / 1K minutes</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section id="how-it-works" class="how-it-works">
    <div class="section-container">
      <h2 class="section-title">How it works</h2>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-icon">
            <span><%= icon_svg(:clock, css_class: 'icon-lg') %></span>
          </div>
          <h3>Pick your focus</h3>
          <p>Choose 30â€“180 second practice sessions. Select from interview prep, presentation skills, or conversation practice.</p>
        </div>

        <div class="step-card">
          <div class="step-icon">
            <span><%= icon_svg(:mic, css_class: 'icon-lg') %></span>
          </div>
          <h3>Record & speak</h3>
          <p>Practice in your browser with real-time guidance. No downloads, no setupâ€”just click and start speaking.</p>
        </div>

        <div class="step-card">
          <div class="step-icon">
            <span><%= icon_svg(:chart, css_class: 'icon-lg') %></span>
          </div>
          <h3>Get AI feedback</h3>
          <p>Instant analysis of pace, clarity, filler words, and engagement with specific improvement suggestions.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="features-section">
    <div class="section-container">
      <h2 class="section-title">What you'll improve</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:target, css_class: 'icon-lg') %></span>
          </div>
          <h3>AI clarity coaching</h3>
          <p>Get specific suggestions to remove filler words, improve pacing, and make your message more direct and engaging.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:lightning, css_class: 'icon-lg') %></span>
          </div>
          <h3>Real-time detection</h3>
          <p>Automatic identification of "um," "uh," pace issues, and long pauses with timestamps for focused improvement.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:book, css_class: 'icon-lg') %></span>
          </div>
          <h3>Practice library</h3>
          <p>Curated scenarios for interviews, pitches, storytelling, and professional conversations.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:trending_up, css_class: 'icon-lg') %></span>
          </div>
          <h3>Progress tracking</h3>
          <p>Monitor your improvement over time with detailed analytics and personalized coaching insights.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:activity, css_class: 'icon-lg') %></span>
          </div>
          <h3>Web-first platform</h3>
          <p>No apps to install. Practice anywhere with just a browser and microphone. Works on all devices.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span><%= icon_svg(:lock, css_class: 'icon-lg') %></span>
          </div>
          <h3>Privacy focused</h3>
          <p>Your recordings stay private. Delete any session anytime. Full control over your practice data.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Live Demo Section -->
  <section id="demo" class="demo-section">
    <div class="section-container">
      <div class="demo-content">
        <div class="demo-text">
          <h2>Try it live right now</h2>
          <p>Experience the coaching interface with real AI feedback. No account requiredâ€”just click and start practicing.</p>

          <% if logged_in? %>
            <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary btn-large" do %>
              <span class="btn-icon"><%= icon_svg(:rocket, css_class: 'icon-inline') %></span>
              Launch Practice Interface
            <% end %>
          <% else %>
            <%= link_to practice_path(trial: true),
                  class: "btn btn-primary btn-large",
                  data: {
                    action: "click->analytics#handleTrialClick",
                    source: "demo_section"
                  } do %>
              <span class="btn-icon"><%= icon_svg(:lightning, css_class: 'icon-inline') %></span>
              Try 30s Demo Now
            <% end %>
          <% end %>

          <div class="demo-features">
            <div class="demo-feature">
              <span class="feature-dot"></span>
              Filler word detection with timestamps
            </div>
            <div class="demo-feature">
              <span class="feature-dot"></span>
              Speaking pace and clarity analysis
            </div>
            <div class="demo-feature">
              <span class="feature-dot"></span>
              Personalized improvement suggestions
            </div>
          </div>
        </div>

        <div class="demo-preview">
          <div class="preview-card">
            <div class="preview-header">
              <h4>What you'll see in action</h4>
            </div>
            <div class="preview-content">
              <div class="preview-item">
                <span class="preview-icon"><%= icon_svg(:mic, css_class: 'icon-inline') %></span>
                <span>Real-time recording with visual feedback</span>
              </div>
              <div class="preview-item">
                <span class="preview-icon"><%= icon_svg(:chart, css_class: 'icon-inline') %></span>
                <span>Instant metrics: WPM, clarity, filler rate</span>
              </div>
              <div class="preview-item">
                <span class="preview-icon"><%= icon_svg(:lightbulb, css_class: 'icon-inline') %></span>
                <span>AI coaching suggestions for improvement</span>
              </div>
              <div class="preview-item">
                <span class="preview-icon"><%= icon_svg(:trending_up, css_class: 'icon-inline') %></span>
                <span>Progress tracking across sessions</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="section-container">
      <h2 class="section-title">Frequently asked questions</h2>
      <div class="faq-grid">
        <div class="faq-item">
          <h3>What platforms are supported?</h3>
          <p>AI Talk Coach works in any modern web browser on desktop, tablet, or mobile. No apps to downloadâ€”just visit our website and start practicing.</p>
        </div>

        <div class="faq-item">
          <h3>How accurate is the AI feedback?</h3>
          <p>Our AI combines advanced speech recognition with linguistic analysis to provide precise feedback on pace, clarity, and speaking patterns. It's trained on thousands of professional presentations.</p>
        </div>

        <div class="faq-item">
          <h3>Do you store my recordings?</h3>
          <p>Your recordings are temporarily processed for analysis, then you can choose to save them in your account or delete them immediately. You have full control over your data.</p>
        </div>

        <div class="faq-item">
          <h3>Is there a free version?</h3>
          <p>Yes! Start practicing immediately with our free tier. Get instant feedback on your speaking and track your progress over time.</p>
        </div>

        <div class="faq-item">
          <h3>What languages are supported?</h3>
          <p>Currently supporting English, Portuguese, and Spanish with high accuracy. More languages coming based on user demand.</p>
        </div>

        <div class="faq-item">
          <h3>How quickly will I see improvement?</h3>
          <p>Most users see measurable improvement in filler word usage within their first week. Significant clarity improvements typically happen within 2-3 weeks of regular practice.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="cta-container">
      <div class="cta-content">
        <h2>Ready to transform your communication skills?</h2>
        <p>Join <%= @active_users %>+ people already improving their speaking with AI-powered coaching.</p>

        <div class="cta-actions">
          <% if logged_in? %>
            <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary btn-large" do %>
              <span class="btn-icon"><%= icon_svg(:mic, css_class: 'icon-inline') %></span>
              Continue Your Practice
            <% end %>

            <%= link_to app_subdomain_url(history_sessions_path), class: "btn btn-secondary-outline btn-large" do %>
              <span class="btn-icon"><%= icon_svg(:chart, css_class: 'icon-inline') %></span>
              View Session History
            <% end %>
          <% else %>
            <%= link_to practice_path(trial: true),
                  class: "btn btn-primary btn-large",
                  data: {
                    action: "click->analytics#handleTrialClick",
                    source: "cta_section"
                  } do %>
              <span class="btn-icon"><%= icon_svg(:lightning, css_class: 'icon-inline') %></span>
              Try 30s Demo
            <% end %>

            <%= link_to app_subdomain_url(signup_path),
                  class: "btn btn-secondary-outline btn-large",
                  data: {
                    action: "click->analytics#handleSignupClick",
                    source: "cta_section"
                  } do %>
              <span class="btn-icon"><%= icon_svg(:rocket, css_class: 'icon-inline') %></span>
              Sign Up Free
            <% end %>
          <% end %>
        </div>

        <div class="cta-note">
          <span class="note-icon"><%= icon_svg(:lock, css_class: 'icon-inline') %></span>
          <% if logged_in? %>
            Welcome back, <%= current_user.name %>! Your data is safe and secure.
          <% else %>
            Create your free account in 30 seconds. Your privacy is protected.
          <% end %>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="landing-footer">
    <div class="footer-container">
      <div>Â© <%= Date.current.year %> AI Talk Coach.</div>
      <div class="footer-links">
        <a href="#" aria-label="Privacy Policy">Privacy</a>
        <a href="#" aria-label="Terms of Service">Terms</a>
        <a href="#" aria-label="Contact Us">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Sticky Mini CTA -->
  <div class="sticky-mini-cta" data-controller="landing-scroll" data-landing-scroll-target="stickyBtn">
    <% if logged_in? %>
      <%= link_to app_subdomain_url(practice_path), class: "btn btn-primary" do %>
        <%= icon_svg(:mic, css_class: 'icon-inline') %> Go to App
      <% end %>
    <% else %>
      <%= link_to practice_path(trial: true),
            class: "btn btn-primary",
            data: {
              action: "click->analytics#handleTrialClick",
              source: "sticky_cta"
            } do %>
        <%= icon_svg(:mic, css_class: 'icon-inline') %> Try 30s Demo
      <% end %>
    <% end %>
  </div>
</div>