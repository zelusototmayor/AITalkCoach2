<% content_for :title, "Pricing - AI Talk Coach" %>

<div class="pricing-page" style="min-height: 100vh; background: var(--bg); padding: 4rem 1rem;">
  <div style="max-width: 1000px; margin: 0 auto;">

    <!-- Header -->
    <div style="text-align: center; margin-bottom: 3rem;">
      <h1 class="grad-text" style="font-size: 2.5rem; font-weight: 800; margin-bottom: 1rem;">
        Choose Your Plan
      </h1>
      <p style="font-size: 1.125rem; color: var(--muted); max-width: 600px; margin: 0 auto;">
        Start with a free trial. Keep it going by practicing daily!
      </p>
    </div>

    <!-- Free Forever Explanation Banner -->
    <div class="card" style="padding: 1.5rem; margin-bottom: 2rem; border-left: 4px solid var(--brand-500); background: linear-gradient(135deg, #FFF5F0, #FFFFFF);">
      <div>
        <h3 style="font-weight: 700; color: var(--text); margin-bottom: 0.5rem;">
          Go Potentially Free Forever!
        </h3>
        <p style="color: var(--muted); font-size: 0.9rem; margin-bottom: 0;">
          Start with 24 hours of free access. Practice for just 1+ minute daily to extend your trial by another 24 hours.
          <strong style="color: var(--text);">Keep practicing daily, and you'll never need to pay!</strong>
          Or subscribe anytime for guaranteed access.
        </p>
      </div>
    </div>

    <% if logged_in? && @trial_hours_remaining %>
      <!-- Trial Status Banner -->
      <div class="card" style="padding: 1.5rem; margin-bottom: 2rem; border-left: 4px solid var(--brand-500); background: linear-gradient(135deg, #FFF5F0, #FFFFFF);">
        <div style="display: flex; align-items: center; gap: 1rem;">
          <span style="font-size: 2rem;">⏰</span>
          <div style="flex: 1;">
            <h3 style="font-weight: 700; color: var(--text); margin-bottom: 0.25rem;">
              Free Trial Active
            </h3>
            <p style="color: var(--muted); font-size: 0.9rem;">
              <%= @trial_hours_remaining %> hours remaining • Practice daily (1+ min session) to keep using the app free forever!
            </p>
          </div>
        </div>
      </div>
    <% end %>

    <!-- Pricing Cards -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 3rem;">

      <!-- Monthly Plan -->
      <div class="card" style="padding: 2.5rem; position: relative; transition: transform 0.2s, box-shadow 0.2s;">
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1.5rem;">
          <div>
            <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">
              Monthly Plan
            </h2>
            <div style="display: flex; align-items: baseline; gap: 0.5rem;">
              <span style="font-size: 3rem; font-weight: 800; color: var(--brand-500);">
                €<%= @monthly_price %>
              </span>
              <span style="color: var(--muted);">/month</span>
            </div>
          </div>
        </div>

        <ul style="list-style: none; margin-bottom: 2rem; color: var(--text);">
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span><strong>Free forever if you practice daily (1+ min/day)</strong></span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Unlimited speech analysis sessions</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Advanced AI-powered coaching insights</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Progress tracking & analytics</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Priority processing</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Email support</span>
          </li>
        </ul>

        <% if logged_in? %>
          <%= button_to 'Subscribe Monthly', subscription_path(plan: :monthly), method: :post, class: 'primary-btn', style: 'width: 100%; padding: 1rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; background: var(--gradient-primary); color: white; text-decoration: none; display: block; text-align: center;', form: { data: { turbo: false } } %>
        <% else %>
          <%= link_to 'Sign Up & Subscribe', signup_path, class: 'primary-btn', style: 'width: 100%; padding: 1rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; background: var(--gradient-primary); color: white; text-decoration: none; display: block; text-align: center;' %>
        <% end %>
      </div>

      <!-- Yearly Plan (Recommended) -->
      <div class="card" style="padding: 2.5rem; position: relative; border: 2px solid var(--brand-500); transition: transform 0.2s, box-shadow 0.2s;">
        <!-- Recommended Badge -->
        <div style="position: absolute; top: -12px; right: 24px; background: var(--gradient-primary); color: white; padding: 0.5rem 1.5rem; border-radius: 20px; font-weight: 700; font-size: 0.875rem; box-shadow: 0 4px 12px rgba(255, 140, 66, 0.3);">
          BEST VALUE
        </div>

        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1.5rem;">
          <div>
            <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">
              Yearly Plan
            </h2>
            <div style="display: flex; align-items: baseline; gap: 0.5rem;">
              <span style="font-size: 3rem; font-weight: 800; color: var(--brand-500);">
                €<%= @yearly_price %>
              </span>
              <span style="color: var(--muted);">/year</span>
            </div>
            <p style="color: var(--brand-500); font-weight: 600; margin-top: 0.5rem;">
              Just €<%= @yearly_monthly_equivalent %>/month • Save <%= @savings_percentage %>%!
            </p>
          </div>
        </div>

        <ul style="list-style: none; margin-bottom: 2rem; color: var(--text);">
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span><strong>Free forever if you practice daily (1+ min/day)</strong></span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span><strong>Everything in Monthly</strong></span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span><strong>Save €60 per year</strong> (50% off)</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Lock in your price for 12 months</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Priority support</span>
          </li>
        </ul>

        <% if logged_in? %>
          <%= button_to 'Subscribe Yearly', subscription_path(plan: :yearly), method: :post, class: 'primary-btn', style: 'width: 100%; padding: 1rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; background: var(--gradient-primary); color: white; text-decoration: none; display: block; text-align: center;', form: { data: { turbo: false } } %>
        <% else %>
          <%= link_to 'Sign Up & Subscribe', signup_path, class: 'primary-btn', style: 'width: 100%; padding: 1rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; background: var(--gradient-primary); color: white; text-decoration: none; display: block; text-align: center;' %>
        <% end %>
      </div>

      <!-- Coach Plan (Enterprise) -->
      <div class="card" style="padding: 2.5rem; position: relative; transition: transform 0.2s, box-shadow 0.2s;">
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1.5rem;">
          <div>
            <h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">
              Coach Plan
            </h2>
            <div style="display: flex; align-items: baseline; gap: 0.5rem;">
              <span style="font-size: 2rem; font-weight: 700; color: var(--brand-500);">
                Custom
              </span>
            </div>
            <p style="color: var(--muted); font-size: 0.9rem; margin-top: 0.5rem;">
              Tailored for coaches & institutions
            </p>
          </div>
        </div>

        <ul style="list-style: none; margin-bottom: 2rem; color: var(--text);">
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span><strong>Everything in standard plans</strong></span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Coach functionalities</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Enhanced reports</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Customize features for your course</span>
          </li>
          <li style="display: flex; align-items: start; gap: 0.75rem;">
            <span style="color: var(--success); font-size: 1.25rem; line-height: 1;">✓</span>
            <span>Dedicated support</span>
          </li>
        </ul>

        <%= link_to 'Talk to Us', 'mailto:zsottomayor@gmail.com?subject=AI%20Talk%20Coach%20-%20Coach%20Plan%20Inquiry', class: 'primary-btn', style: 'width: 100%; padding: 1rem; font-size: 1.125rem; font-weight: 600; border-radius: 12px; border: none; cursor: pointer; background: var(--gradient-primary); color: white; text-decoration: none; display: block; text-align: center;' %>
      </div>
    </div>

    <!-- Pricing FAQ Section with JSON-LD Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Is there a free trial for AI Talk Coach?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. You get 24 hours of full free access when you sign up — no credit card required. If you practice for at least 1 minute per day, your free access extends by another 24 hours. Keep practicing daily and you can use AI Talk Coach indefinitely for free."
          }
        },
        {
          "@type": "Question",
          "name": "Can I cancel my subscription at any time?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, you can cancel anytime directly from your account settings. There are no cancellation fees and no lock-in periods. If you cancel, your subscription stays active until the end of your current billing period."
          }
        },
        {
          "@type": "Question",
          "name": "What is the difference between the monthly and annual plans?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The annual plan gives you the same full access as the monthly plan at a significantly reduced price — you get several months free compared to paying month-to-month. Both plans include unlimited practice sessions, all feedback types, and progress tracking."
          }
        },
        {
          "@type": "Question",
          "name": "What happens when my free trial ends?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "When your trial period ends, you can choose to subscribe to a paid plan or continue extending your free access by practicing daily. You will never be charged automatically — there is no credit card required to start."
          }
        },
        {
          "@type": "Question",
          "name": "Does AI Talk Coach work for non-native English speakers?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes — this is one of our most common use cases. AI Talk Coach gives you instant feedback on clarity, pace, filler word frequency, and speaking patterns. Many non-native speakers use it to practice for job interviews, presentations, meetings, and video calls in English. The AI adapts to your accent and provides consistent, objective feedback every session."
          }
        },
        {
          "@type": "Question",
          "name": "What types of speaking can I practice?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "AI Talk Coach supports a wide range of speaking scenarios: presentations, job interviews, sales pitches, one-on-ones, public speaking, and general English fluency practice. The AI gives you feedback on filler words, speaking pace, clarity, and confidence signals — across all scenario types."
          }
        },
        {
          "@type": "Question",
          "name": "Is there a plan for language coaches or corporate teams?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. The Coach Plan is designed for language coaches, corporate trainers, and L&D professionals who want to track student or team progress. It includes multi-user management, detailed analytics, and dedicated support. Contact us at zsottomayor@gmail.com for pricing and setup."
          }
        },
        {
          "@type": "Question",
          "name": "How quickly will I improve my speaking with AI Talk Coach?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Most users see measurable improvement in specific behaviours — like filler word reduction and pace control — within their first week of daily practice. Broader confidence improvements typically show up within 2–3 weeks. The key is consistency: 10–15 minutes per day produces significantly faster results than occasional longer sessions."
          }
        }
      ]
    }
    </script>

    <div style="margin-top: 4rem; max-width: 780px; margin-left: auto; margin-right: auto;">
      <h2 style="font-size: 1.75rem; font-weight: 800; text-align: center; margin-bottom: 2rem; color: var(--text);">
        Pricing Questions
      </h2>

      <div style="display: flex; flex-direction: column; gap: 0;">
        <% pricing_faqs = [
          {
            q: "Is there a free trial?",
            a: "Yes — 24 hours of full access, no credit card required. Practice 1+ minute daily and your free access auto-extends another 24 hours. Keep practising daily and you may never need to pay."
          },
          {
            q: "Can I cancel at any time?",
            a: "Yes. Cancel anytime from your account settings. No fees, no lock-in. Your access stays active until the end of your current billing cycle."
          },
          {
            q: "What's the difference between monthly and annual?",
            a: "Same full access — annual saves you several months of cost compared to month-to-month. Both include unlimited sessions, all feedback types, and progress tracking."
          },
          {
            q: "Does it work for non-native English speakers?",
            a: "Absolutely — this is one of our most popular use cases. You get objective feedback on pace, clarity, and filler words every session, regardless of accent. Many users practice for job interviews, presentations, and video calls in English."
          },
          {
            q: "What can I practice?",
            a: "Presentations, job interviews, sales pitches, video calls, one-on-ones, and general English fluency. The AI adapts to any scenario and gives you specific, actionable feedback each time."
          },
          {
            q: "Is there a plan for coaches or teams?",
            a: "Yes — the Coach Plan includes multi-user management and team analytics. Email zsottomayor@gmail.com to discuss your team's needs."
          }
        ] %>

        <% pricing_faqs.each_with_index do |faq, i| %>
          <div style="border-bottom: 1px solid var(--border); padding: 1.25rem 0; <%= i == 0 ? 'border-top: 1px solid var(--border);' : '' %>">
            <h3 style="font-size: 1rem; font-weight: 700; color: var(--text); margin: 0 0 0.5rem 0;">
              <%= faq[:q] %>
            </h3>
            <p style="font-size: 0.9rem; color: var(--muted); margin: 0; line-height: 1.6;">
              <%= faq[:a] %>
            </p>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Back Link -->
    <div style="text-align: center; margin-top: 3rem;">
      <%= link_to '← Back to Home', root_path, style: 'color: var(--brand-500); text-decoration: none; font-weight: 600;' %>
    </div>
  </div>
</div>

<style>
  .primary-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(255, 140, 66, 0.3);
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
  }

  @media (min-width: 992px) {
    .pricing-page > div > div:nth-child(3) {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
